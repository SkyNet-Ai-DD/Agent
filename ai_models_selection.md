# Выбор и настройка ИИ-моделей

## Крупные языковые модели (LLM)

Для реализации мета-агента в n8n будут использоваться следующие крупные языковые модели:

### 1. DeepSeek V3
- **Особенности**: Поддерживает очень длинный контекст, что важно для работы с технической документацией и стандартами.
- **Применение**: Основная модель для генерации ответов на технические вопросы и создания документации.
- **Настройка**: 
  - Использование в нодах n8n AI Agent и Chat Model
  - Настройка системных промптов для каждого типа задач
  - Интеграция с векторными базами данных для RAG (Retrieval Augmented Generation)

### 2. Qwen (через провайдера PPIO)
- **Особенности**: Мощная модель с хорошей поддержкой русского языка и технических задач.
- **Применение**: Альтернативная модель для повышения надежности системы.
- **Настройка**:
  - Интеграция через провайдера PPIO в n8n
  - Настройка промптов для специфических задач машиностроения

### 3. OpenAI GPT-4o
- **Особенности**: Универсальная модель с отличными показателями по большинству параметров.
- **Применение**: Использование для задач, требующих широкой общей эрудиции.
- **Настройка**:
  - Интеграция через стандартные ноды OpenAI в n8n
  - Настройка температуры и других параметров для баланса между креативностью и точностью

## Мультимодальные модели

Для работы с визуальными данными (изображения, чертежи) будет использоваться:

### 1. GPT-4o
- **Особенности**: Поддержка анализа изображений и визуальных данных.
- **Применение**: Анализ загружаемых пользователем чертежей, изображений деталей.
- **Настройка**:
  - Использование в нодах AI Agent с включенной поддержкой vision
  - Настройка промптов для анализа технических чертежей
  - Интеграция с системой хранения файлов (Google Drive, Nextcloud)

## Система промптов

Для каждой модели и типа задач будут разработаны специализированные системные промпты:

### Промпты для технических вопросов:
```
Ты инженер-консультант в области машиностроения. Используй только предоставленную документацию: [контекст]. Ответь на вопрос: [вопрос пользователя]. При генерации ответа строго следуй следующим правилам:
1. Используй терминологию ГОСТ и техническую специфику машиностроения
2. Ссылайся на конкретные разделы стандартов и документации
3. Не добавляй информацию, не содержащуюся в предоставленном контексте
4. Если в контексте нет достаточной информации, честно об этом сообщи
```

### Промпты для генерации документации:
```
Ты технический писатель и инженер. Создай [тип документа] на основе следующих требований: [требования]. Используй следующие стандарты: [список стандартов]. При создании документа следуй структуре:
1. Титульный лист
2. Содержание
3. Основная часть
4. Заключение
5. Список использованных стандартов
```

### Промпты для извлечения параметров:
```
Ты система извлечения структурированной информации. Из запроса пользователя извлеки следующие параметры: [список параметров]. Представь результат в формате JSON:
{
  "параметр1": "значение1",
  "параметр2": "значение2",
  ...
}
Если какой-то параметр не указан, установи его значение как null.